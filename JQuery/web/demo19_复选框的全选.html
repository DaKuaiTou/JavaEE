<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>复选框全选</title>
    <script src="js/jquery-3.3.1.min.js"></script>
    <style>
        tr{
            text-align: center;
        }
        .grayStyle{
            background-color: gray;
        }
        .goldenrod{
            background-color: goldenrod;
        }
        .yellow{
            background-color: yellow;
        }
    </style>
</head>
<body>
<table id="tableId" border="1" width="800px" align="center">
    <tr>
        <th><input type="button" onclick="reverseSelect()" id="reverse" value="反选">
        </th>
        <th colspan="4">业务表格</th>
    </tr>
    <tr>
        <th>
            <input type="checkbox" onclick="allSelect(this)" id="all">全选
        </th>
        <th>编号</th>
        <th>姓名</th>
        <th>业务</th>
        <th>操作</th>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
    <tr>
        <td><input type="checkbox" class="item"></td>
        <td>1</td>
        <td>张三</td>
        <td>更改昵称</td>
        <td><a href="javascript:void(0);">修改</a>&nbsp;<a href="javascript:void(0);">删除</a></td>
    </tr>
</table>

<script>
    // 全选：给全选框的绑定添加事件，设置所有的自选框的选中状态和全选框一致
    function allSelect(obj) {
        // 设置所有的子复选框的选中状态和全选框的选中状态一致 checked
        $(".item").prop("checked",obj.checked);
    }

    // 反选，给反选按钮绑定点击事件：设置所有子复选框的checked属性和原来的相反
    function reverseSelect() {
        $(".item").each(function (index,element) {
            element.checked = !element.checked;
        });
    }

    // 点击自选框控制全选框
    // 当所有的自选框都选中的时候，全选框也要选中，但凡有一个子选框没有被选中，那么全选框也不能选中
    $(".item").click(function () {
        /*var flag = false;
        $(".item").each(function (index,element) {
            if(!element.checked){
                flag = false;
            }
        })
        $("#all").prop("checked",flag);*/

        $("#all").prop("checked",$(".item").length == $(".item:checked").length)
    });
</script>
</body>
</html>